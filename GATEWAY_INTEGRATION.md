# RetroPrinciples Gateway Integration

## ç®€ä»‹

RetroPrinciples å¯ä»¥é›†æˆåˆ° PAI Gatewayï¼Œåœ¨å…³é”®å†³ç­–ç‚¹è‡ªåŠ¨è§¦å‘æé†’ã€‚

## é›†æˆæ–¹å¼

### æ–¹å¼ 1ï¼šç›´æ¥å¼•ç”¨ï¼ˆæ¨èï¼‰

åœ¨ PAI Gateway é…ç½®ä¸­å¼•ç”¨ RetroPrinciplesï¼š

```yaml
# ~/.claude/skills/RetroPrinciples/Gateway/rules.yaml
rules:
  - name: "å¯åŠ¨æ–°é¡¹ç›®"
    trigger: "é¡¹ç›®å¯åŠ¨"
    principles:
      - "ç”¨æˆ·éœ€æ±‚éªŒè¯"
      - "åˆ†é˜¶æ®µå†³ç­–æ¡†æ¶"
    reminder: |
      âš ï¸ å¯åŠ¨æ–°é¡¹ç›®å‰ï¼Œè¯·ç¡®è®¤ï¼š
      1. å®Œæˆç”¨æˆ·è°ƒç ” (â‰¥5 ä¸ªè®¿è°ˆ)
      2. è®¾ç½® Go/No-Go å†³ç­–ç‚¹
      3. å®šä¹‰æˆåŠŸæŒ‡æ ‡

  - name: "æŠ€æœ¯é€‰å‹"
    trigger: "æŠ€æœ¯é€‰å‹"
    principles:
      - "æŠ€æœ¯é€‰å‹éªŒè¯å¾‹"
      - "ç«å“æ²‰é»˜ = è­¦å‘Š"
    reminder: |
      âš ï¸ æŠ€æœ¯é€‰å‹å‰ï¼Œè¯·ç¡®è®¤ï¼š
      1. å®Œæˆæœ€å° POC
      2. æ£€æŸ¥ç«å“é€‰æ‹©
      3. è®¡ç®— 3 å¹´ TCO

  - name: "é‡å¤§å†³ç­–"
    trigger: "é‡å¤§å†³ç­–"
    principles:
      - "å¤šä»£ç†åˆ†æ ROI"
      - "XY Problem è­¦æƒ•"
    reminder: |
      âš ï¸ é‡å¤§å†³ç­–å‰ï¼Œè¯·ç¡®è®¤ï¼š
      1. é—® 5 æ¬¡ä¸ºä»€ä¹ˆ
      2. å¤šè§’åº¦åˆ†æ
      3. å‡†å¤‡å›æ»šæ–¹æ¡ˆ
```

### æ–¹å¼ 2ï¼šä½œä¸º Gateway è§„åˆ™ä½¿ç”¨

```bash
# è§¦å‘æé†’
./Tools/gateway.sh "æŠ€æœ¯é€‰å‹"
```

## è§¦å‘åœºæ™¯

| åœºæ™¯ | è§¦å‘å…³é”®è¯ | æ¨èåŸåˆ™ |
|------|----------|---------|
| å¯åŠ¨æ–°é¡¹ç›® | "æ–°é¡¹ç›®", "å¯åŠ¨", "ç«‹é¡¹" | ç”¨æˆ·éœ€æ±‚éªŒè¯, åˆ†é˜¶æ®µå†³ç­– |
| æŠ€æœ¯é€‰å‹ | "æŠ€æœ¯é€‰å‹", "é€‰æ¡†æ¶", "é€‰å·¥å…·" | æŠ€æœ¯é€‰å‹éªŒè¯, ç«å“åˆ†æ |
| ç”¨æˆ·è°ƒç ” | "ç”¨æˆ·è°ƒç ”", "è®¿è°ˆ", "éœ€æ±‚" | ç”¨æˆ·éœ€æ±‚éªŒè¯ |
| æˆæœ¬é¢„ç®— | "æˆæœ¬", "é¢„ç®—", "ROI" | ROI ä¿å®ˆä¸»ä¹‰, éšæ€§æˆæœ¬ |
| é‡å¤§å†³ç­– | "å†³ç­–", "é€‰æ‹©", "è¯„ä¼°" | å¤šä»£ç†åˆ†æ, XY Problem |
| æ–‡æ¡£ç¼–å†™ | "æ–‡æ¡£", "æ±‡æŠ¥", "æ€»ç»“" | æ–‡æ¡£é‡‘å­—å¡” |

## é…ç½®ç¤ºä¾‹

### åœ¨ PAI Gateway ä¸­é›†æˆ

```yaml
# ~/.claude/skills/pai-gateway/rules/retro-principles.yaml
name: "RetroPrinciples Integration"
description: "åœ¨å…³é”®å†³ç­–ç‚¹è§¦å‘å¤ç›˜åŸåˆ™æé†’"

triggers:
  - pattern: "å¯åŠ¨.*é¡¹ç›®|æ–°.*ç«‹é¡¹"
    action: "checklist"
    category: "project-startup"

  - pattern: "æŠ€æœ¯.*é€‰å‹|é€‰.*æ¡†æ¶|é€‰.*å·¥å…·"
    action: "reminder"
    category: "tech-selection"

  - pattern: "ç”¨æˆ·.*è°ƒç ”|éœ€æ±‚.*åˆ†æ"
    action: "guideline"
    category: "user-research"

  - pattern: "æˆæœ¬.*ä¼°ç®—|é¢„ç®—.*åˆ¶å®š"
    action: "checklist"
    category: "cost-estimation"

  - pattern: "é‡å¤§.*å†³ç­–|æ–¹æ¡ˆ.*è¯„ä¼°"
    action: "multi-agent"
    category: "major-decision"
```

## ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1ï¼šå¯åŠ¨æ–°é¡¹ç›®

```
ç”¨æˆ·: "æˆ‘æƒ³å¯åŠ¨ä¸€ä¸ªæ–°é¡¹ç›®"

PAI Gateway â†’ RetroPrinciples è§¦å‘
â†“
è¾“å‡º:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ å¯åŠ¨æ–°é¡¹ç›®æé†’

æ¨èåŸåˆ™:
- ç”¨æˆ·éœ€æ±‚éªŒè¯
- åˆ†é˜¶æ®µå†³ç­–æ¡†æ¶
- å¯æµ‹é‡ = å¯ç®¡ç†

è¡ŒåŠ¨æ¸…å•:
[ ] 5+ ç”¨æˆ·è®¿è°ˆ
[ ] è®¾ç½® Go/No-Go ç‚¹
[ ] å®šä¹‰æˆåŠŸæŒ‡æ ‡

æé—®:
- ç”¨æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Ÿ
- å¦‚ä½•éªŒè¯å‡è®¾ï¼Ÿ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### åœºæ™¯ 2ï¼šæŠ€æœ¯é€‰å‹

```
ç”¨æˆ·: "æˆ‘ä»¬åº”è¯¥é€‰å“ªä¸ªæ¡†æ¶ï¼Ÿ"

PAI Gateway â†’ RetroPrinciples è§¦å‘
â†“
è¾“å‡º:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ æŠ€æœ¯é€‰å‹æé†’

æ¨èåŸåˆ™:
- æŠ€æœ¯é€‰å‹éªŒè¯å¾‹
- ç«å“æ²‰é»˜ = è­¦å‘Š
- ROI ä¿å®ˆä¸»ä¹‰

è¡ŒåŠ¨æ¸…å•:
[ ] å®Œæˆæœ€å° POC
[ ] æ£€æŸ¥ç«å“é€‰æ‹©
[ ] è®¡ç®— 3 å¹´ TCO

æé—®:
- ä¸ºä»€ä¹ˆç«å“ä¸åšè¿™ä¸ªé€‰æ‹©ï¼Ÿ
- æœ‰å¤‡é€‰æ–¹æ¡ˆå—ï¼Ÿ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

## API æ¥å£

### æŸ¥è¯¢åŸåˆ™

```typescript
import { PRINCIPLES } from './Tools/Query';

function getPrinciples(scenario: string): Principle[] {
  return PRINCIPLES.filter(p =>
    p.scenarios.includes(scenario) ||
    p.tags.some(t => scenario.includes(t))
  );
}
```

### è·å–åœºæ™¯æ¨è

```typescript
import { SCENARIOS } from './Tools/scenario';

function getRecommendations(scenario: string): ScenarioConfig {
  return SCENARIOS.find(s =>
    s.keywords.some(k => scenario.includes(k))
  );
}
```

## æ‰©å±•é…ç½®

### æ·»åŠ æ–°åœºæ™¯

ç¼–è¾‘ `Tools/scenario.ts` ä¸­çš„ `SCENARIOS` æ•°ç»„ï¼š

```typescript
{
  keywords: ["ä½ çš„å…³é”®è¯"],
  principles: ["ç›¸å…³åŸåˆ™"],
  questions: ["å…³é”®é—®é¢˜"],
  actions: ["å»ºè®®è¡ŒåŠ¨"],
  warnings: ["è­¦å‘Šæç¤º"],
}
```

### è‡ªå®šä¹‰æé†’æ¨¡æ¿

```yaml
# ~/.claude/skills/RetroPrinciples/custom-reminders.yaml
templates:
  project-startup: |
    ğŸš¨ å¯åŠ¨æ–°é¡¹ç›®æé†’
    ...
  tech-selection: |
    ğŸ”§ æŠ€æœ¯é€‰å‹æé†’
    ...
```

## æ•…éšœæ’é™¤

### åŸåˆ™ä¸è§¦å‘

1. æ£€æŸ¥å…³é”®è¯æ˜¯å¦åŒ¹é…
2. ç¡®è®¤ Gateway è§„åˆ™å·²å¯ç”¨
3. æŸ¥çœ‹æ—¥å¿—ï¼š`~/.claude/logs/`

### åŒ¹é…é”™è¯¯

1. è°ƒæ•´å…³é”®è¯åŒ¹é…é€»è¾‘
2. å¢åŠ åŒä¹‰è¯
3. è°ƒæ•´ä¼˜å…ˆçº§

## ç›¸å…³æ–‡ä»¶

- `Tools/Query.ts` - åŸåˆ™æŸ¥è¯¢
- `Tools/scenario.ts` - åœºæ™¯å¼•æ“
- `Tools/Gateway/rules.yaml` - Gateway è§„åˆ™
