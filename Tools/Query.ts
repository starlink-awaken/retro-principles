#!/usr/bin/env bun

/**
 * RetroPrinciples Query Tool - å¤ç›˜çŸ¥è¯†åº“æŸ¥è¯¢å·¥å…·
 *
 * æŸ¥è¯¢æ ¸å¿ƒåŸåˆ™ã€è·å–æœ€ä½³å®è·µå»ºè®®ã€æŸ¥é˜…å†å²æ¡ˆä¾‹
 *
 * ç”¨æ³•:
 *   bun Tools/Query.ts "å…³é”®è¯"          # æœç´¢åŸåˆ™
 *   bun Tools/Query.ts --checklist       # è·å–æ£€æŸ¥æ¸…å•
 *   bun Tools/Query.ts --example "åœºæ™¯"  # æŸ¥çœ‹ç›¸å…³æ¡ˆä¾‹
 *   bun Tools/Query.ts --list            # åˆ—å‡ºæ‰€æœ‰åŸåˆ™
 *   bun Tools/Query.ts --reminder "åœºæ™¯" # è·å–åœºæ™¯æé†’
 */

interface Principle {
  id: number;
  name: string;
  summary: string;
  level: string;
  tags: string[];
  content: string;
}

interface QueryResult {
  query: string;
  type: string;
  results: Principle[];
  reminder?: string;
  checklist?: string[];
}

// æ ¸å¿ƒçŸ¥è¯†åº“
const PRINCIPLES: Principle[] = [
  {
    id: 1,
    name: "ç”¨æˆ·éœ€æ±‚éªŒè¯å®šå¾‹",
    summary: "æ²¡é—®è¿‡ç”¨æˆ· = çŒœ",
    level: "é“å¾‹",
    tags: ["ç”¨æˆ·", "éœ€æ±‚", "è°ƒç ”", "éªŒè¯"],
    content: `
**çº§åˆ«**: é“å¾‹ (å¿…é¡»éµå®ˆ)
**æè¿°**: æ²¡æœ‰è¢«éªŒè¯çš„ç”¨æˆ·éœ€æ±‚ = å‡è®¾ = å¯èƒ½æ˜¯é”™çš„

**å…¬å¼**:
éœ€æ±‚ç½®ä¿¡åº¦ = f(ç”¨æˆ·è®¿è°ˆæ•°, çœŸå®æ•°æ®é‡, æ”¯ä»˜æ„æ„¿éªŒè¯)

**ç½®ä¿¡åº¦å±‚æ¬¡**:
| ç½®ä¿¡åº¦ | æ¡ä»¶ |
|--------|------|
| 0% | å‡è®¾ï¼ˆ"æˆ‘è§‰å¾—ç”¨æˆ·éœ€è¦..."ï¼‰ |
| 30% | è°ƒç ”ï¼ˆ1-3 ä¸ªè®¿è°ˆï¼‰ |
| 60% | éªŒè¯ï¼ˆ5-10 ä¸ªè®¿è°ˆ + æ•°æ®ï¼‰ |
| 90% | ç¡®è®¤ï¼ˆ30+ é—®å· + æ”¯ä»˜éªŒè¯ï¼‰ |

**è¿åä»£ä»·**: é«˜ (å¯èƒ½æ˜¯ XY Problem)
**æ¡ˆä¾‹**: Context Compression é¡¹ç›®å†™äº† 2,813 è¡Œæ–‡æ¡£ï¼Œä½† 0 ä¸ªç”¨æˆ·è®¿è°ˆ â†’ ç½®ä¿¡åº¦ 0%
    `.trim(),
  },
  {
    id: 2,
    name: "ROI ä¿å®ˆä¸»ä¹‰",
    summary: "ä¹è§‚æ˜¯å¹»æƒ³ï¼Œä¿å®ˆæ˜¯æ™ºæ…§",
    level: "é“å¾‹",
    tags: ["ROI", "æˆæœ¬", "ä¼°ç®—", "æ”¶ç›Š"],
    content: `
**çº§åˆ«**: é“å¾‹
**æè¿°**: æ°¸è¿œç”¨ä¿å®ˆæƒ…æ™¯åšå†³ç­–ï¼Œä¹è§‚æƒ…æ™¯æ˜¯ç»™æŠ•èµ„äººçœ‹çš„

**ä¿®æ­£å› å­**:
| ä¼°ç®—ç±»å‹ | ä¿®æ­£å› å­ |
|----------|----------|
| å¼€å‘æ—¶é—´ | Ã—1.5 |
| å¼€å‘æˆæœ¬ | Ã—1.3 |
| æ”¶ç›Š | Ã—0.7 |
| ROI | Ã—0.5 |

**æ¡ˆä¾‹**: åŸæŠ¥å‘Š ROI 654%ï¼Œä¿å®ˆæƒ…æ™¯æ˜¯ -8%
    `.trim(),
  },
  {
    id: 3,
    name: "XY Problem è­¦æƒ•æœºåˆ¶",
    summary: "é—® 5 æ¬¡'ä¸ºä»€ä¹ˆ'å†åŠ¨æ‰‹",
    level: "é‡‘å¾‹",
    tags: ["XY Problem", "é—®é¢˜å®šä¹‰", "ä¸ºä»€ä¹ˆ"],
    content: `
**çº§åˆ«**: é‡‘å¾‹
**æè¿°**: æ¯è§£å†³ä¸€ä¸ªé—®é¢˜ä¹‹å‰ï¼Œé—®ä¸‰æ¬¡"ä¸ºä»€ä¹ˆ"

**é—®é¢˜é“¾**:
Q1: ä¸ºä»€ä¹ˆéœ€è¦ä¼˜åŒ– Tokenï¼Ÿ
A1: å› ä¸º Token æˆæœ¬é«˜

Q2: ä¸ºä»€ä¹ˆ Token æˆæœ¬é«˜ï¼Ÿ
A2: å› ä¸ºä¸Šä¸‹æ–‡å¤ªå¤§

Q3: ä¸ºä»€ä¹ˆä¸Šä¸‹æ–‡å¤ªå¤§ï¼Ÿ
A3: å› ä¸º...ï¼ˆè¿™æ‰æ˜¯çœŸæ­£çš„é—®é¢˜ï¼‰

**è¿åä»£ä»·**: è‡´å‘½ (è§£å†³é”™è¯¯çš„é—®é¢˜)
    `.trim(),
  },
  {
    id: 4,
    name: "å¤šä»£ç†åˆ†æ ROI",
    summary: "èŠ±å°é’±é˜²å¤§ç¥¸",
    level: "å»ºè®®",
    tags: ["å¤šä»£ç†", "åˆ†æ", "é£é™©"],
    content: `
**çº§åˆ«**: å»ºè®®
**æè¿°**: åˆ†ææˆæœ¬æ˜¯å›ºå®šçš„ï¼Œé—æ¼é£é™©çš„ä»£ä»·æ˜¯æ— é™çš„

**æˆæœ¬æ”¶ç›Š**:
| æ–¹æ³• | æˆæœ¬ | é—æ¼é£é™©ä»£ä»· |
|------|------|-------------|
| å•ä»£ç†åˆ†æ | $10 | å¯èƒ½é—æ¼ 10+ é£é™© |
| å¤šä»£ç†åˆ†æ (12 ä»£ç†) | $80 | é—æ¼é£é™© < 2 |

**æ¡ˆä¾‹**: 12 ä»£ç†èŠ±äº† ~$80ï¼Œä½†æ­éœ²äº† 15+ ä¸ªé£é™©ç‚¹
    `.trim(),
  },
  {
    id: 5,
    name: "ç«å“æ²‰é»˜ = è­¦å‘Š",
    summary: "90% æœ‰åŸå› ",
    level: "é“¶å¾‹",
    tags: ["ç«å“", "å¯¹æ ‡", "è¡Œä¸š"],
    content: `
**çº§åˆ«**: é“¶å¾‹
**æè¿°**: å¦‚æœæ‰€æœ‰ç«å“éƒ½ä¸åšæŸä»¶äº‹ï¼Œè¦ä¹ˆæ˜¯ä»–ä»¬é”™äº†ï¼Œè¦ä¹ˆæ˜¯ä½ é”™äº†

**ç«å“æ²‰é»˜åŸå› å¯èƒ½æ€§**:
| åŸå›  | æ¦‚ç‡ |
|------|------|
| å·²ç»è¯•è¿‡ï¼Œå¤±è´¥äº† | 40% |
| æ•°æ®ä¸æ”¯æŒï¼ŒROI ä¸ºè´Ÿ | 30% |
| ç”¨æˆ·ä¸æƒ³è¦ | 20% |
| è¿˜æ²¡æƒ³åˆ° | 10% |

**æ¡ˆä¾‹**: Cursor/Windsurf/Continue éƒ½ä¸åš Context Compression â†’ 90% æ¦‚ç‡æ˜¯ä»–ä»¬æœ‰æ•°æ®æ”¯æ’‘
    `.trim(),
  },
  {
    id: 6,
    name: "æ–‡æ¡£é‡‘å­—å¡”æ³•åˆ™",
    summary: "5% ç»“è®ºï¼Œ20% æ–¹æ¡ˆï¼Œ75% ç»†èŠ‚",
    level: "å»ºè®®",
    tags: ["æ–‡æ¡£", "ç»“æ„", "é‡‘å­—å¡”"],
    content: `
**çº§åˆ«**: å»ºè®®
**æè¿°**: 80% çš„äººåªä¼šçœ‹æ‰§è¡Œæ‘˜è¦ï¼Œ19% ä¼šçœ‹è¯¦ç»†æ–¹æ¡ˆï¼Œ1% ä¼šçœ‹æŠ€æœ¯ç»†èŠ‚

**ç¯‡å¹…åˆ†é…**:
| å±‚çº§ | å†…å®¹ | ç¯‡å¹…å æ¯” | å—ä¼— |
|------|------|----------|------|
| æ‰§è¡Œæ‘˜è¦ | ç»“è®º + å»ºè®® | 5% | å†³ç­–è€… |
| è¯¦ç»†æ–¹æ¡ˆ | æ–¹æ¡ˆå¯¹æ¯” | 20% | é¡¹ç›®ç»ç† |
| æŠ€æœ¯æ–‡æ¡£ | å®æ–½ç»†èŠ‚ | 75% | å¼€å‘è€… |

**æ¡ˆä¾‹**: 2,813 è¡Œå…¨æ˜¯æŠ€æœ¯æ–‡æ¡£çº§åˆ« â†’ ç»“æ„é”™è¯¯
    `.trim(),
  },
  {
    id: 7,
    name: "éšæ€§æˆæœ¬å€å¢å™¨",
    summary: "ç®—åˆ°çš„æˆæœ¬åªæ˜¯å†°å±±",
    level: "é“¶å¾‹",
    tags: ["éšæ€§æˆæœ¬", "ç»´æŠ¤", "TCO"],
    content: `
**çº§åˆ«**: é“¶å¾‹
**æè¿°**: æ˜¾æ€§æˆæœ¬æ˜¯å†°å±±ä¸€è§’ï¼Œéšæ€§æˆæœ¬æ˜¯æ°´ä¸‹å·¨å…½

**æˆæœ¬åˆ†è§£**:
æŠ¥å‘Šæˆæœ¬:
  æ˜¾æ€§: $4,650 (å¼€å‘)
  éšæ€§: $2,000+ (ç»´æŠ¤)

å®é™…æ¯”ä¾‹:
  æ˜¾æ€§: éšæ€§ = 1 : 2~3

**æ¡ˆä¾‹**: åŸæŠ¥å‘Šåªç®—äº†æ˜¾æ€§æˆæœ¬ï¼Œæ²¡ç®—æ¡ˆä¾‹åˆ›ä½œã€ç´¢å¼•æ›´æ–°ã€è´¨é‡å®¡æ ¸
    `.trim(),
  },
  {
    id: 8,
    name: "å¯æµ‹é‡ = å¯ç®¡ç†",
    summary: "æ¨¡ç³Š = æ— æ•ˆ",
    level: "é‡‘å¾‹",
    tags: ["æŒ‡æ ‡", "æµ‹é‡", "éªŒæ”¶"],
    content: `
**çº§åˆ«**: é‡‘å¾‹
**æè¿°**: æ¨¡ç³Šçš„æŒ‡æ ‡ = æ²¡æœ‰æŒ‡æ ‡

**æŒ‡æ ‡å®šä¹‰æ¨¡æ¿**:
âŒ æ¨¡ç³Š: "Token èŠ‚çœ â‰¥ 30%"
âœ… æ¸…æ™°: "Token èŠ‚çœ â‰¥ 30%"
         æµ‹é‡æ–¹æ³•: å¯¹æ¯”ä¼˜åŒ–å‰å SKILL.md åŠ è½½ token æ•°
         æµ‹é‡å·¥å…·: Claude Token Counter
         éªŒæ”¶é˜ˆå€¼: è¿ç»­ 10 æ¬¡æµ‹è¯• â‰¥ 30%
         æµ‹è¯•æ—¶é—´: æ¯æ¬¡ä¼šè¯é¦–è½®å“åº”
    `.trim(),
  },
  {
    id: 9,
    name: "æŠ€æœ¯é€‰å‹éªŒè¯å¾‹",
    summary: "å…ˆ POC å†ä¸Šè½¦",
    level: "é“å¾‹",
    tags: ["æŠ€æœ¯é€‰å‹", "POC", "éªŒè¯"],
    content: `
**çº§åˆ«**: é“å¾‹
**æè¿°**: æœªç»éªŒè¯çš„ç”Ÿäº§å·¥å…· = å®šæ—¶ç‚¸å¼¹

**éªŒè¯æ¸…å•**:
[ ] æœ€å° POC å®Œæˆ (2 å°æ—¶å†…)
[ ] ä¾èµ–å¥åº·æ£€æŸ¥ (stars, issues, maintenance)
[ ] æ›¿ä»£æ–¹æ¡ˆå¤‡é€‰
[ ] å¤±è´¥å›æ»šè®¡åˆ’
[ ] ç¤¾åŒºæ´»è·ƒåº¦éªŒè¯

**æ¡ˆä¾‹**: BMad æœªç»éªŒè¯ï¼Œå®‰è£…å¤±è´¥ â†’ æµªè´¹ 30 åˆ†é’Ÿ
    `.trim(),
  },
  {
    id: 10,
    name: "åˆ†é˜¶æ®µå†³ç­–æ¡†æ¶",
    summary: "æ¯ä¸ªé˜¶æ®µå¿…é¡»æœ‰é€€å‡ºç‚¹",
    level: "é“¶å¾‹",
    tags: ["åˆ†é˜¶æ®µ", "å†³ç­–", "Go/No-Go"],
    content: `
**çº§åˆ«**: é“¶å¾‹
**æè¿°**: æ¯ä¸ªé˜¶æ®µå¿…é¡»æœ‰æ˜ç¡®çš„ Go/No-Go å†³ç­–ç‚¹

**å†³ç­–ç‚¹æ¨¡æ¿**:
é˜¶æ®µ          å†³ç­–é—®é¢˜              Go æ¡ä»¶
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è°ƒç ”å        æ˜¯å¦ç»§ç»­ï¼Ÿ          â‰¥70% ç”¨æˆ·æ”¯æŒ
MVP å       æ˜¯å¦æ‰©å±•ï¼Ÿ          Token èŠ‚çœ â‰¥30%
é˜¶æ®µæœ«        æ˜¯å¦å›æ»šï¼Ÿ          ROI < 0
    `.trim(),
  },
];

// CLI å…¥å£
async function run(args: string[]): Promise<string> {
  const query = args.join(" ");

  // å¤„ç†ç‰¹æ®Šå‘½ä»¤
  if (query === "--list" || query === "list") {
    return listAllPrinciples();
  }

  if (query === "--checklist" || query === "checklist") {
    return showChecklist();
  }

  if (query.startsWith("--example ") || query.startsWith("example ")) {
    const exampleQuery = query.replace(/^--example\s+|^example\s+/, "");
    return showExample(exampleQuery);
  }

  if (query.startsWith("--reminder ") || query.startsWith("reminder ")) {
    const reminderQuery = query.replace(/^--reminder\s+|^reminder\s+/, "");
    return showReminder(reminderQuery);
  }

  if (!query || query === "--help" || query === "help") {
    return showHelp();
  }

  // æœç´¢åŸåˆ™
  return searchPrinciples(query);
}

function searchPrinciples(query: string): string {
  const keywords = query.toLowerCase().split(/\s+/);
  const results = PRINCIPLES.filter((p) =>
    keywords.some(
      (k) =>
        p.name.toLowerCase().includes(k) ||
        p.summary.toLowerCase().includes(k) ||
        p.tags.some((t) => t.toLowerCase().includes(k))
    )
  );

  if (results.length === 0) {
    return `âŒ æœªæ‰¾åˆ°ç›¸å…³åŸåˆ™

æœç´¢å…³é”®è¯: "${query}"

è¯•è¯•:
- /principles "ç”¨æˆ·éœ€æ±‚"
- /principles "æˆæœ¬ä¼°ç®—"
- /principles "æŠ€æœ¯é€‰å‹"
- /checklist (æŸ¥çœ‹å®Œæ•´æ£€æŸ¥æ¸…å•)`;
  }

  return `ğŸ” æœç´¢: "${query}"

æ‰¾åˆ° ${results.length} æ¡åŸåˆ™:

${results.map((p) => formatPrinciple(p)).join("\n")}

ğŸ’¡ æç¤º: ä½¿ç”¨ /checklist è·å–å®Œæ•´æ£€æŸ¥æ¸…å•`;
}

function listAllPrinciples(): string {
  return `ğŸ“š 10 æ¡æ ¸å¿ƒåŸåˆ™

${PRINCIPLES.map((p) => `**${p.id}. ${p.name}** (${p.level})
   ${p.summary}`).join("\n\n")}

ğŸ’¡ è¯¦æƒ…æŸ¥è¯¢: /principles "åŸåˆ™å"`;
}

function formatPrinciple(p: Principle): string {
  return `â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
**${p.id}. ${p.name}** [${p.level}]

ğŸ“ ${p.summary}

${p.content.trim()}

ğŸ·ï¸ æ ‡ç­¾: ${p.tags.join(", ")}`;
}

function showChecklist(): string {
  return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ“‹ é¡¹ç›®å¯åŠ¨å‰æ£€æŸ¥æ¸…å•                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ç”¨æˆ·è°ƒç ”:
  [ ] 5+ æ·±åº¦è®¿è°ˆ
  [ ] 30+ é—®å·è°ƒç ”
  [ ] ç—›ç‚¹ä¼˜å…ˆçº§æ’åº
  [ ] æ”¯ä»˜æ„æ„¿éªŒè¯

é—®é¢˜éªŒè¯:
  [ ] 5 æ¬¡"ä¸ºä»€ä¹ˆ"è¿½é—®
  [ ] æ ¸å¿ƒå‡è®¾æ¸…å•
  [ ] å‡è®¾éªŒè¯æ–¹æ³•

æŠ€æœ¯é€‰å‹:
  [ ] 3 ä¸ªæ›¿ä»£æ–¹æ¡ˆ
  [ ] æœ€å° POC å®Œæˆ
  [ ] ç«å“åˆ†æ (3+)

æˆæœ¬ä¼°ç®—:
  [ ] å¼€å‘æ—¶é—´ Ã—1.5
  [ ] éšæ€§æˆæœ¬æ¸…å•
  [ ] 3 å¹´ TCO

å†³ç­–æ¡†æ¶:
  [ ] éªŒæ”¶æ ‡å‡†å®šä¹‰
  [ ] Go/No-Go æ¡ä»¶
  [ ] å›æ»šè®¡åˆ’

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ è¯¦æƒ…: /principles "å…·ä½“åŸåˆ™å"
`;
}

function showExample(query: string): string {
  const examples: Record<string, string> = {
    æˆæœ¬: `
**æ¡ˆä¾‹: æˆæœ¬ä¼°ç®—é—®é¢˜**

Context Compression é¡¹ç›®:
- åŸæŠ¥å‘Šå£°ç§° ROI 654%
- å®é™…ä¿å®ˆæƒ…æ™¯ ROI -8%
- æˆæœ¬è¢«ä½ä¼° 50-83%

æ•™è®­: æ°¸è¿œä½¿ç”¨ä¿å®ˆæƒ…æ™¯åšå†³ç­–
å»ºè®®: å¼€å‘æ—¶é—´ Ã—1.5 ç¼“å†²
`,
    ç”¨æˆ·: `
**æ¡ˆä¾‹: ç”¨æˆ·éœ€æ±‚æœªéªŒè¯**

Context Compression é¡¹ç›®:
- å†™äº† 2,813 è¡Œæ–‡æ¡£
- ä½† 0 ä¸ªç”¨æˆ·è®¿è°ˆ
- å‡è®¾ç”¨æˆ·éœ€è¦ Token ä¼˜åŒ–

æ•™è®­: æ²¡é—®è¿‡ç”¨æˆ· = çŒœ
å»ºè®®: å‰ç½®ç”¨æˆ·è°ƒç ”ï¼Œè‡³å°‘ 5 ä¸ªè®¿è°ˆ
`,
    æŠ€æœ¯é€‰å‹: `
**æ¡ˆä¾‹: æŠ€æœ¯é€‰å‹æœªéªŒè¯**

BMad å®‰è£…å¤±è´¥:
- å°è¯•äº† 4 ç§æ–¹æ³•
- clack/prompts åº“ bug
- æµªè´¹ 30 åˆ†é’Ÿ

æ•™è®­: æœªç»éªŒè¯çš„å·¥å…· = å®šæ—¶ç‚¸å¼¹
å»ºè®®: å…ˆåš POCï¼Œå†ä¸Šç”Ÿäº§
`,
  };

  const key = Object.keys(examples).find((k) => query.toLowerCase().includes(k.toLowerCase()));
  const example = key ? examples[key] : examples["æˆæœ¬"];

  return `ğŸ“– ç›¸å…³æ¡ˆä¾‹

${example}`;
}

function showReminder(query: string): string {
  const reminders: Record<string, string> = {
    ç”¨æˆ·: `
âš ï¸ ç”¨æˆ·éœ€æ±‚æé†’

åœ¨ç»§ç»­ä¹‹å‰ï¼Œé—®è‡ªå·±:
1. æˆ‘æœ‰é—®è¿‡ç”¨æˆ·å—ï¼Ÿ
2. ç”¨æˆ·çœŸçš„åœ¨ä¹è¿™ä¸ªå—ï¼Ÿ
3. æˆ‘çš„å‡è®¾è¢«éªŒè¯äº†å—ï¼Ÿ

ç›¸å…³åŸåˆ™: 1 (ç”¨æˆ·éœ€æ±‚éªŒè¯)
`,
    æˆæœ¬: `
âš ï¸ æˆæœ¬ä¼°ç®—æé†’

åœ¨ç»§ç»­ä¹‹å‰ï¼Œé—®è‡ªå·±:
1. æˆ‘çš„ä¼°ç®—æœ‰å¤šä¹è§‚ï¼Ÿ
2. éšæ€§æˆæœ¬ç®—äº†å—ï¼Ÿ
3. æœ‰ 50% ç¼“å†²å—ï¼Ÿ

ç›¸å…³åŸåˆ™: 2 (ROI ä¿å®ˆä¸»ä¹‰), 7 (éšæ€§æˆæœ¬)
`,
    æŠ€æœ¯é€‰å‹: `
âš ï¸ æŠ€æœ¯é€‰å‹æé†’

åœ¨ç»§ç»­ä¹‹å‰ï¼Œé—®è‡ªå·±:
1. åšäº† POC å—ï¼Ÿ
2. ä¾èµ–å¥åº·å—ï¼Ÿ
3. æœ‰å¤‡é€‰æ–¹æ¡ˆå—ï¼Ÿ

ç›¸å…³åŸåˆ™: 9 (æŠ€æœ¯é€‰å‹éªŒè¯å¾‹)
`,
    å†³ç­–: `
âš ï¸ å†³ç­–æé†’

åœ¨ç»§ç»­ä¹‹å‰ï¼Œé—®è‡ªå·±:
1. æœ‰æ˜ç¡®çš„ Go/No-Go ç‚¹å—ï¼Ÿ
2. å›æ»šæ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿ
3. ä»€ä¹ˆæ—¶å€™æ­¢æŸï¼Ÿ

ç›¸å…³åŸåˆ™: 10 (åˆ†é˜¶æ®µå†³ç­–)
`,
  };

  const key = Object.keys(reminders).find((k) =>
    query.toLowerCase().includes(k.toLowerCase())
  );
  const reminder = key ? reminders[key] : reminders["å†³ç­–"];

  return `ğŸš¨ ${reminder}`;
}

function showHelp(): string {
  return `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              ğŸ“š RetroPrinciples ä½¿ç”¨å¸®åŠ©                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ç”¨æ³•:
  /principles "å…³é”®è¯"      # æœç´¢åŸåˆ™
  /principles list         # åˆ—å‡ºæ‰€æœ‰åŸåˆ™
  /checklist               # è·å–å¯åŠ¨å‰æ£€æŸ¥æ¸…å•
  /example "é—®é¢˜ç±»å‹"       # æŸ¥çœ‹ç›¸å…³æ¡ˆä¾‹
  /reminder "åœºæ™¯"          # è·å–åœºæ™¯æé†’

ç¤ºä¾‹:
  /principles "ç”¨æˆ·"        # æœç´¢ç”¨æˆ·ç›¸å…³åŸåˆ™
  /principles "æˆæœ¬"       # æœç´¢æˆæœ¬ç›¸å…³åŸåˆ™
  /checklist               # æŸ¥çœ‹å®Œæ•´æ£€æŸ¥æ¸…å•
  /example "ç”¨æˆ·"           # æŸ¥çœ‹ç”¨æˆ·ç›¸å…³æ¡ˆä¾‹
  /reminder "æŠ€æœ¯é€‰å‹"      # è·å–æŠ€æœ¯é€‰å‹æé†’

10 æ¡æ ¸å¿ƒåŸåˆ™:
  1. ç”¨æˆ·éœ€æ±‚éªŒè¯  2. ROI ä¿å®ˆä¸»ä¹‰  3. XY Problem è­¦æƒ•
  4. å¤šä»£ç†åˆ†æ    5. ç«å“æ²‰é»˜      6. æ–‡æ¡£é‡‘å­—å¡”
  7. éšæ€§æˆæœ¬     8. å¯æµ‹é‡        9. æŠ€æœ¯é€‰å‹
  10. åˆ†é˜¶æ®µå†³ç­–
`;
}

export { run, PRINCIPLES };
